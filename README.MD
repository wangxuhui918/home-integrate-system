# ğŸ“šç®€ä»‹
home-integrate-system(ä»¥ä¸‹ç®€ç§°ç³»ç»Ÿ)ï¼Œæ˜¯ä¸€ä¸ªè½»é‡çº§,å®Œå…¨å¼€æºçš„Springbootæ¡†æ¶ï¼Œç³»ç»Ÿé€šè¿‡ä»¥ç±»spiçš„æ–¹å¼å°è£…å¸¸ç”¨å·¥å…·æ’ä»¶ï¼ˆé˜¿æ³¢ç½—ï¼Œæ•°æ®åº“ï¼Œdubboï¼Œflywayï¼Œgitï¼Œmybatisï¼Œtk-mybatisï¼Œredisï¼Œé›ªèŠ±ç®—æ³•ï¼Œswagger-uiï¼Œhutoolç­‰ï¼‰
ï¼Œé™ä½äº†ç³»ç»Ÿé›†æˆéš¾åº¦ã€‚

ğŸ‘‰ å®ç°è‡ªåŠ¨é…ç½®ï¼ˆä¾‹å¦‚è‡ªåŠ¨æ‰«æControlleræ³¨è§£ï¼Œæ— ç›¸å…³æ³¨è§£/Swaggeré…ç½®åˆ™ä¸åŠ è½½Swaggerï¼‰ã€‚


# ğŸ“˜ä½¿ç”¨

é€šè¿‡mvn è¿›è¡Œå®‰è£…

```shell

cd ../home-integrate-system

```
```shell

mvn install 
```

é¡¹ç›®å¼•å…¥

```xml
        <!-- å•jaråŒ…æ–¹å¼å¼•å…¥,éœ€è¦æœ¬åœ°(home-integrate-system/home-integrate-package/home-integrate-packageextends/home-integrate-systemall) mvn install-->
        <dependency>
            <groupId>com.guoshiyao.rely</groupId>
             <version>9.0.5-RELEASE</version>
            <artifactId>home-integrate-systemall</artifactId>
        </dependency>
```
```xml
        <!-- pomå…³è”æ–¹å¼å¼•å…¥,å·²ç»ä¸Šä¼ è‡³mavenä¸­å¤®åº“-->
        <dependency>
            <groupId>com.guoshiyao.rely</groupId>
            <version>9.0.5-RELEASE</version>
            <artifactId>home-integrate-systemallpom</artifactId>
        </dependency>
```

å¯ç”¨ç³»ç»Ÿ(åˆ›å»ºSpringbootå¯åŠ¨ç±»,å‚è€ƒå¦‚ä¸‹æ–¹å¼åŠ å…¥æ³¨è§£)

```java
package cn.vesan.code;

import com.guoshiyao.rely.annotaion.Starter;
import com.guoshiyao.rely.message.i18n.I18n;
import org.springframework.boot.SpringApplication;

/**
 * @author æ±ªæ—­è¾‰
 * @date 2022/3/10
 * @readme
 */
@Starter(idkey = "vesan-lowformat", i18n = I18n.CN)
public class LowFormatApplication {
    public static void main(String[] args) {
        SpringApplication.run(LowFormatApplication.class, args);
    }
}

```

æ³¨æ„:
é¦–æ¬¡å¯åŠ¨ä¼šåˆ›å»ºå¯¹åº”ç¯å¢ƒçš„é…ç½®æ–‡ä»¶(home-local.ini home-DEV.ini home-PRO.ini home-UAT.ini,ä»¥åŠæ¶ˆæ¯ç æ–‡ä»¶message-*.xml),
å¦‚æœæŠ¥é”™é‡æ–°å¯åŠ¨å³å¯

# ğŸ“éƒ¨åˆ†åŠŸèƒ½çš„ä½¿ç”¨

## Controller(è¯·æ±‚ä½“,æ¶ˆæ¯ç ,å…¥å‚,å‡ºå‚)

```java
@RuleAnnotationApi
@Controller
@Api(tags = "(CodeFile)æ§åˆ¶å±‚")
public class CodeFileController {

    @RequestMapping(value = "/codeFile/add", method = {RequestMethod.POST})
    @ApiOperation(value = "æ·»åŠ ")
    @ResponseBody
    @PostMapping
    public Object add(@RequestBody InputParamReLow<CodeFileVo> input) {
        return this.codeFileService.insert(input.getInputData());
    }

    @RequestMapping(value = "/codeFile/add", method = {RequestMethod.POST})
    @ApiOperation(value = "æ·»åŠ ")
    @ResponseBody
    @PostMapping
    public void add(@RequestBody InputParamReLow<CodeFileVo> input) {
        this.codeFileService.insert(input.getInputData());
    }

    @RequestMapping(value = "/codeFile/add", method = {RequestMethod.POST})
    @ApiOperation(value = "æ·»åŠ ")
    @ResponseBody
    @PostMapping
    public OutputParamAb add(@RequestBody InputParamReLow<CodeFileVo> input) {
        this.codeFileService.insert(input.getInputData());
    }
    1. åå‚è¦æ±‚ä¸ºOutputParamAbå­ç±»,å½“åå‚é OutputParamAb ä¼šè‡ªåŠ¨åˆ›å»ºä¸€ä¸ªæ–°çš„OutputParamAbç±»,å¹¶å°†ç»“æœåŠ å…¥OutputParamAb.dataä¸­
    2. å…¥å‚è¦æ±‚InputParamReLow<T>,å¯é€šè¿‡input.getInputData()è·å–å…¥å‚å®ä½“ç±»,å¹¶æä¾›ä¸€ç³»åˆ—æ–¹æ³•
    3. è‡ªåŠ¨æ•è·Serviceä¸­çš„ä¸šåŠ¡å¼‚å¸¸å¹¶é€šè¿‡OutputParamAbåŠ å·¥è¿”å›ç»™å‰ç«¯
    4. åå‚ç›®å‰å®ç°äº†OutputParamRe
    5. Conttrolleréœ€è¦å®ç°åŠ å…¥@RuleAnnotationApi æ³¨è§£
}
```

## Service(ä¸šåŠ¡å¼‚å¸¸å¤„ç†)

```java
        if (1!=0) {
            throw new ExceptionError("å…³è”å…³ç³»æœªå¡«å†™");//è¿”å›ä¸šåŠ¡å¼‚å¸¸
            throw new ExceptionRe("A02");//message-*.xmlæ–‡ä»¶ä¸­çš„æ¶ˆæ¯ç code
            throw new ExceptionAb();//è‡ªå®šä¹‰å®ç°ExceptionAbç±»
        }
        
```

#é…ç½®è¯´æ˜

å¦‚æœéœ€è¦å¯ç”¨ç›¸å…³åŠŸèƒ½,æ‰“å¼€å¯¹åº”é…ç½®+å†™å…¥ç›¸å…³å®ç°ç±»(å¦‚æœæœ‰,æ¯”å¦‚dubboServiceä¸šåŠ¡ç±»,Controllerå®ç°ç±»)

```ini


[1000001-DEV-apollo.ini]
# ç®¡ç†ç«¯
#home.apollo.url=é˜¿æ³¢ç½—ç®¡ç†åœ°å€,å¦‚æœä¸å¡«å†™åˆ™é˜¿æ³¢ç½—ä¸åŠ è½½

#home.apollo.username=é˜¿æ³¢ç½—ç®¡ç†ç”¨æˆ·å

#home.apollo.password=é˜¿æ³¢ç½—ç®¡ç†å¯†ç 
# å®¢æˆ·ç«¯
#home.apollo.app.id=minserver

#home.apollo.apollo.meta=http://106.54.227.205:8080
# dev,uat,pro å¯ä»¥é€šè¿‡ç³»ç»Ÿenvä¼ å…¥,æ³¨é‡Šåè‡ªåŠ¨é€šè¿‡ä¼ å…¥å˜é‡å†³å®š,è¿™ä¸ªå»ºè®®ä¸ä¼ ,ç³»ç»Ÿè‡ªåŠ¨è¯†åˆ«
#home.apollo.apollo.env=LOCAL



[1000004-DEV-dubbo.ini]
# dubboé»˜è®¤æ‰«æåŒ…:com.guoshiyao.rely.dubboservice
#home.dubbo.reference.package=com.guoshiyao.rely.dubboservice
# dubboè¿æ¥è¶…æ—¶æ—¶é—´
#home.dubbo.reference.timeout=120000
# dubboæ³¨å†Œä¸­å¿ƒåœ°å€
#home.dubbo.reference.url=zookeeper://zookeeper.com:2181
# dubboåè®®
#home.dubbo.reference.agreement=dubbo
# dubboæœ¬åœ°åœ°å€
#home.dubbo.reference.host=127.0.0.1
# dubboæœ¬åœ°æš´éœ²ç«¯å£
#home.dubbo.reference.port=20880
# dubbo çº¿ç¨‹æ•°
#home.dubbo.protocolconfig.threads=300
# #cached limited fixed all
#home.dubbo.protocolconfig.threadpool=fixed



[1000003-DEV-db.ini]
# æ•°æ®åº“è¿æ¥åœ°å€
#home.db.url=jdbc:mysql://localhost:3306/home?useSSL=false&serverTimezone=GMT%2B8&useUnicode=true&characterEncoding=UTF-8
# ç”¨æˆ·å
#home.db.username=root
# å¯†ç 
#home.db.password=password
# é©±åŠ¨UrlClass
#home.db.driverclassname=com.mysql.cj.jdbc.Driver
#é©±åŠ¨ä¸‹è½½åœ°å€,ä½¿ç”¨ url åå¯ä»¥ä¸å¡«å†™home.db.driverclassname,MAVEN POM ä¸­æ— éœ€åŠ è½½é©±åŠ¨åæ ‡,ä¼˜å…ˆçº§ä½äºhome.db.driverclassname
#home.db.driverclass.downloadurl=https://repo1.maven.org/maven2/mysql/mysql-connector-java/5.1.49/mysql-connector-java-5.1.49.jar
# æ•°æ®åº“æ ¡éªŒsql
#home.db.validationquery=select 'x'

#home.db.maxactive=30

#home.db.initialsize=1

#home.db.maxwait=60000

#home.db.minidle=3

#home.db.timebetweenevictionrunsmillis=60000

#home.db.minevictableidletimemillis=300000

#home.db.testwhileidle=true

#home.db.testonborrow=false

#home.db.testonreturn=false

#home.db.poolpreparedstatements=true

#home.db.removeabandoned=true

#home.db.removeabandonedtimeout=60

#home.db.numtestsperevictionrun=60

#home.db.maxopenpreparedstatements=20

#home.db.filters=stat,wall



[1000006-DEV-flyway.ini]
# flyway jdbcè¿æ¥åœ°å€,å¦‚æœä¸ºç©ºå–æ•°æ®åº“è¿æ¥åœ°å€
#home.flywaydb.url=
# flyway å¦‚æœä¸ºç©º,å–æ•°æ®åº“ç”¨æˆ·å
#home.flywaydb.username=
# flyway å¦‚æœä¸ºç©º,å»æ•°æ®åº“å¯†ç 
#home.flywaydb.password=
# flyway ç‰ˆæœ¬ç®¡ç†è¡¨
#home.flywaydb.table=flyway_schema_history



[1000007-DEV-gitlab.ini]
# gitä»£ç æ–‡ä»¶å¤¹ç›®å½•
#home.gitlab.gitdir=/Users/wangxuhui//home/minserver//git/download
# gitlabçš„åœ°å€
#home.gitlab.gitlaburl=http://192.168.150.61:2080/
# gitlabç®¡ç†token
#home.gitlab.token=
# gitlabç”¨æˆ·å
#home.gitlab.username=wangxuhui
# gitlabå¯†ç 
#home.gitlab.password=
# gitlab checout default branch
#home.gitlab.branch=master
# gitlab log
#home.gitlab.log=/Users/wangxuhui//home/minserver//git/log/log.txt


[1000008-DEV-logback.ini]
# é»˜è®¤ä¸ºidkey debug
home.log.appid=minserver
# æ ¹æ—¥å¿—çº§åˆ« debug info  warn  error trance é»˜è®¤debug# ä»é«˜åˆ°åœ°ä½ OFF ã€ FATAL ã€ ERROR ã€ WARN ã€ INFO ã€ DEBUG ã€ TRACE ã€ ALL -->
home.log.rootlevel=debug
# ç³»ç»Ÿæ—¥å¿—çº§åˆ« é»˜è®¤debug
home.log.syslevel=debug
# ä¸šåŠ¡æ—¥å¿—çº§åˆ« é»˜è®¤debug
home.log.businlevel=debug
# ä¸šåŠ¡æ—¥å¿—åŒ…è·¯å¾„,ç©ºçš„è¯é»˜è®¤ä¸ºç³»ç»Ÿæ‰«æåˆ°çš„åŒ…è·¯å¾„
home.log.businpackage=com.guoshiyao.rely
# æ—¥å¿—å­˜å‚¨ä½ç½®
#home.log.dir=target/log/minserver

[1000011-DEV-mybatis.ini]
# æ‰«æmapperåœ°å€,é»˜è®¤ä¸ºå¯åŠ¨ç±»ä¸‹çš„ mapperæ–‡ä»¶å¤¹
#home.mybatis.basepackage=com.guoshiyao.rely.mapper
# æ‰«æmapperåœ°å€,é»˜è®¤ä¸ºå¯åŠ¨ç±»ä¸‹çš„ mapperæ–‡ä»¶å¤¹
#home.mybatis.typealiasespackage=com.guoshiyao.rely.mapper
# æ‰«æmapper.xml,é»˜è®¤ä¸ºèµ„æºæ–‡ä»¶å¤¹ä¸‹çš„ mapperæ–‡ä»¶å¤¹
#home.mybatis.mapperlocations=classpath:**/mapper/**.xml


[1000016-DEV-minio.ini]
# api è¯·æ±‚åœ°å€ å¿…å¡«
#home.minio.endpoint=http://localhost:9000
# api è¯·æ±‚ç”¨æˆ·å
#home.minio.accesskey=SDS*DSJDlerw9(were)
# api è¯·æ±‚å¯†é’¥
#home.minio.secretKey=SDS*DSJDlerdsfsdf
# æ¡¶ å‘½åç©ºé—´,å¿…å¡«
#home.minio.namespace_re=minserver
# æµ‹è¯•å¢åŠ æ•°æ®
#home.minio.deom=demop

[1000012-DEV-redis.ini]
# ä½¿ç”¨æ–¹æ³•ä¸º com.guoshiyao.rely.line.Line.redisds.getjedis()# åœ°å€ï¼Œé»˜è®¤localhost
#home.redis.host=192.168.3.251
# ç«¯å£å·
#home.redis.port=6379
# å¯†ç 
#home.redis.password=123456
# masterName
#home.redis.masterName=mymaster
# è¿æ¥è€—å°½æ—¶æ˜¯å¦é˜»å¡, falseæŠ¥å¼‚å¸¸,tureé˜»å¡ç›´åˆ°è¶…æ—¶, é»˜è®¤true
#home.redis.BlockWhenExhausted=true
# è®¾ç½®çš„é€å‡ºç­–ç•¥ç±»å, é»˜è®¤DefaultEvictionPolicy(å½“è¿æ¥è¶…è¿‡æœ€å¤§ç©ºé—²æ—¶é—´,æˆ–è¿æ¥æ•°è¶…è¿‡æœ€å¤§ç©ºé—²è¿æ¥æ•°)
#home.redis.evictionPolicyClassName=org.apache.commons.pool2.impl.DefaultEvictionPolicy
# æ˜¯å¦å¯ç”¨poolçš„jmxç®¡ç†åŠŸèƒ½, é»˜è®¤true
#home.redis.jmxEnabled=true
# æ˜¯å¦å¯ç”¨åè¿›å…ˆå‡º, é»˜è®¤true
#home.redis.lifo=true
# æœ€å¤§ç©ºé—²è¿æ¥æ•°, é»˜è®¤8ä¸ª
#home.redis.maxIdle=8
# æœ€å°ç©ºé—²è¿æ¥æ•°, é»˜è®¤0
#home.redis.minIdle=1
# æœ€å¤§è¿æ¥æ•°, é»˜è®¤8ä¸ª
#home.redis.maxTotal=8
# è·å–è¿æ¥æ—¶çš„æœ€å¤§ç­‰å¾…æ¯«ç§’æ•°(å¦‚æœè®¾ç½®ä¸ºé˜»å¡æ—¶BlockWhenExhausted),å¦‚æœè¶…æ—¶å°±æŠ›å¼‚å¸¸, å°äºé›¶:é˜»å¡ä¸ç¡®å®šçš„æ—¶é—´,  é»˜è®¤-1#ç»è¿‡æ¡†æ¶æµ‹è¯•å½“å‰å€¼ä¸º -1 æ—¶ç³»ç»Ÿå¯åŠ¨ä¼šæŠ¥è½¬æ¢å¼‚å¸¸,å»ºè®®æ³¨é‡Šæˆ–è€…å€¼>-1
#home.redis.maxWaitMillis=-1
# é€å‡ºè¿æ¥çš„æœ€å°ç©ºé—²æ—¶é—´ é»˜è®¤1800000æ¯«ç§’(30åˆ†é’Ÿ)
#home.redis.minEvictableIdleTimeMillis=1800000
# æ¯æ¬¡é€å‡ºæ£€æŸ¥æ—¶ é€å‡ºçš„æœ€å¤§æ•°ç›® å¦‚æœä¸ºè´Ÿæ•°å°±æ˜¯ : 1/abs(n), é»˜è®¤3
#home.redis.numTestsPerEvictionRun=3
# å¯¹è±¡ç©ºé—²å¤šä¹…åé€å‡º, å½“ç©ºé—²æ—¶é—´>è¯¥å€¼ ä¸” ç©ºé—²è¿æ¥>æœ€å¤§ç©ºé—²æ•° æ—¶ç›´æ¥é€å‡º,ä¸å†æ ¹æ®MinEvictableIdleTimeMillisåˆ¤æ–­  (é»˜è®¤é€å‡ºç­–ç•¥)
#home.redis.SoftMinEvictableIdleTimeMillis=1800000
# åœ¨è·å–è¿æ¥çš„æ—¶å€™æ£€æŸ¥æœ‰æ•ˆæ€§, é»˜è®¤false
#home.redis.testOnBorrow=true
# åœ¨ç©ºé—²æ—¶æ£€æŸ¥æœ‰æ•ˆæ€§, é»˜è®¤false
#home.redis.testWhileIdle=true
# é€å‡ºæ‰«æçš„æ—¶é—´é—´éš”(æ¯«ç§’) å¦‚æœä¸ºè´Ÿæ•°,åˆ™ä¸è¿è¡Œé€å‡ºçº¿ç¨‹, é»˜è®¤-1#ç»è¿‡æ¡†æ¶æµ‹è¯•å½“å‰å€¼ä¸º -1 æ—¶ç³»ç»Ÿå¯åŠ¨ä¼šæŠ¥è½¬æ¢å¼‚å¸¸,å»ºè®®æ³¨é‡Šæˆ–è€…å€¼>-1
#home.redis.timeBetweenEvictionRunsMillis=-1



[1000013-DEV-swagger.ini]
# swagger é»˜è®¤æ‰«æ apiè·¯å¾„ä¸ºå¯åŠ¨ç±»æ‰€åœ¨ç›®å½•ä¸‹çš„ apiç›®å½•
#home.swagger.basepackage=com.guoshiyao.rely.api
# swaggerå‘½å,æš‚æ—¶å‘½åä¸ºSwaggerAPI
#home.swagger.name=SwaggeAPI


[1000014-DEV-systemconfig.ini]
# ç³»ç»Ÿå®¹å™¨restç«¯å£å·
system.servlet.port=8081


[1000015-DEV-systemextend.ini]
# ç¤ºä¾‹æ‰©å±•å±æ€§
home.extend.readme=ç¤ºä¾‹å€¼


```


# ğŸ§¬è´¡çŒ®ä»£ç çš„æ­¥éª¤

1. åœ¨Giteeæˆ–è€…Githubä¸Šforké¡¹ç›®åˆ°è‡ªå·±çš„repo
2. æŠŠforkè¿‡å»çš„é¡¹ç›®ä¹Ÿå°±æ˜¯ä½ çš„é¡¹ç›®cloneåˆ°ä½ çš„æœ¬åœ°
3. ä¿®æ”¹ä»£ç ï¼ˆè®°å¾—ä¸€å®šè¦ä¿®æ”¹v*-devåˆ†æ”¯ï¼‰
4. commitåpushåˆ°è‡ªå·±çš„åº“ï¼ˆv*-devåˆ†æ”¯ï¼‰
5. ç™»å½•Giteeæˆ–Githubåœ¨ä½ é¦–é¡µå¯ä»¥çœ‹åˆ°ä¸€ä¸ª pull request æŒ‰é’®ï¼Œç‚¹å‡»å®ƒï¼Œå¡«å†™ä¸€äº›è¯´æ˜ä¿¡æ¯ï¼Œç„¶åæäº¤å³å¯ã€‚
6. ç­‰å¾…ç»´æŠ¤è€…åˆå¹¶

# è¿‘æœŸè®¡åˆ’

1. è°ƒæ•´ç¯å¢ƒå˜é‡ä¾èµ–,åˆè¯•ç¯å¢ƒå˜é‡é…ç½®ä¾èµ–æ‰‹åŠ¨åˆå§‹åŒ–é…ç½®,ä¸å†ä¾èµ–ç³»ç»Ÿ

# å•†åŠ¡æ”¯æŒ

1. ä»£ç å¼€æº,æŠ€æœ¯æ— ä»·,å¦‚éœ€æä¾›æŠ€æœ¯æ”¯æŒå’Œè®²è§£è¯·é€šè¿‡å¦‚ä¸‹æ–¹å¼:
2. QQ:185600894
3. email:185600894@qq.com
4. ä»£ç ä½¿ç”¨äº†å„ç§å¼€æºç»„ä»¶,è½¯ä»¶ä½œä¸ºæ”¯æ’‘,å¦‚æœ‰ä¾µæƒè¯·è”ç³»
5. è¯·å‹¿å°†è½¯ä»¶åº”ç”¨äºæ³•å¾‹è¦æ±‚èŒƒå›´å¤–çš„åœºæ™¯


# æèµ è®¡åˆ’

![img.png](img.png)
