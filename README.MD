# ğŸ“šç®€ä»‹

(å¸†æœ‰äº‘SpringBootè½»é‡çº§ä¸šåŠ¡æ¡†æ¶,ç®€ç§°:å¸†æœ‰äº‘æ¡†æ¶)home-integrate-system(ä»¥ä¸‹ç®€ç§°ç³»ç»Ÿ)
ï¼Œæ˜¯ä¸€ä¸ªè½»é‡çº§,å®Œå…¨å¼€æºçš„Springbootæ¡†æ¶ï¼Œç³»ç»Ÿé€šè¿‡ä»¥ç±»spiçš„æ–¹å¼å°è£…å¸¸ç”¨å·¥å…·æ’ä»¶ï¼ˆé˜¿æ³¢ç½—ï¼Œæ•°æ®åº“ï¼Œdubboï¼Œflywayï¼Œgitï¼Œmybatisï¼Œtk-mybatisï¼Œredisï¼Œé›ªèŠ±ç®—æ³•ï¼Œswagger-uiï¼Œhutoolç­‰ï¼‰
ï¼Œé™ä½äº†ç³»ç»Ÿé›†æˆéš¾åº¦ã€‚

ğŸ‘‰ å®ç°è‡ªåŠ¨é…ç½®ï¼ˆä¾‹å¦‚è‡ªåŠ¨æ‰«æControlleræ³¨è§£ï¼Œæ— ç›¸å…³æ³¨è§£/Swaggeré…ç½®åˆ™ä¸åŠ è½½Swaggerï¼‰ã€‚

# ğŸ“˜å®‰è£…

1. å‰æä¸ºå…ˆå¯¹ ***home-integrate-system*** è¿›è¡Œæ‰“åŒ…å®‰è£…(mvn install)

## Mavenä»“åº“åæ ‡

```xml

<parent>
    <groupId>cn.bigcore</groupId>
    <version>11.0.1.103-RELEASE</version>
    <artifactId>micro-dependencies</artifactId>
</parent>

<dependencies>
<dependency>
    <groupId>cn.bigcore</groupId>
    <artifactId>micro-pack</artifactId>
    <version>11.0.1.103-RELEASE</version>
</dependency>
</dependencies>

```

# ä½¿ç”¨

1. å¯åŠ¨ç±»åŠ ä¸Šæ³¨è§£ **Starter**,å¦‚ä¸‹

```java
package cn.vesan.code;

import annotaion.cn.bigcore.micro.Starter;
import cn.bigcore.micro.message.i18n.I18n;
import org.springframework.boot.SpringApplication;

@Starter(idkey = "vesan-lowformat", i18n = I18n.CN)
public class LowFormatApplication {
    public static void main(String[] args) {
        SpringApplication.run(LowFormatApplication.class, args);
    }
}

```

2. Starter å±æ€§è¯´æ˜(ä»¥1ä¸­ç±»ä¸ºä¾‹)

|å±æ€§| è¯´æ˜     | é»˜è®¤å€¼                   | å¿…å¡« |
|----|--------|-----------------------|----|
|idkey| é¡¹ç›®å”¯ä¸€ID | å¿…å¡«é¡¹                   | âœ…  |
|i18n| åŒºåŸŸç¼–ç    | I18n.CN               | â |
|runEnv| å½“å‰è¿è¡Œç¯å¢ƒ | ...                   | â  |
|configEnv| é…ç½®é»˜è®¤ç¯å¢ƒ | dev,uat,pro           | â  |
|exclude| ä¸åŠ è½½çš„ç±»  | ...                   | â  |
|scanBasePackages| æ‰«æåŒ…    | cn.vesan.code(å¯åŠ¨ç±»æ‰€åœ¨åŒ…) | â  |

# ğŸ“éƒ¨åˆ†åŠŸèƒ½çš„ä½¿ç”¨

## Controller(è¯·æ±‚ä½“,æ¶ˆæ¯ç ,å…¥å‚,å‡ºå‚)

```java

@RuleAnnotationApi
@Controller
@Api(tags = "(CodeFile)æ§åˆ¶å±‚")
public class CodeFileController {

    @RequestMapping(value = "/codeFile/add", method = {RequestMethod.POST})
    @ApiOperation(value = "æ·»åŠ ")
    @ResponseBody
    @PostMapping
    public Object add(@RequestBody InputParamReLow<CodeFileVo> input) {
        return this.codeFileService.insert(input.getInputData());
    }

    @RequestMapping(value = "/codeFile/add", method = {RequestMethod.POST})
    @ApiOperation(value = "æ·»åŠ ")
    @ResponseBody
    @PostMapping
    public void add(@RequestBody InputParamReLow<CodeFileVo> input) {
        this.codeFileService.insert(input.getInputData());
    }

    @RequestMapping(value = "/codeFile/add", method = {RequestMethod.POST})
    @ApiOperation(value = "æ·»åŠ ")
    @ResponseBody
    @PostMapping
    public OutputParamAb add(@RequestBody InputParamReLow<CodeFileVo> input) {
        this.codeFileService.insert(input.getInputData());
    }
    1.åå‚è¦æ±‚ä¸ºOutputParamAbå­ç±»,
    å½“åå‚é OutputParamAb
    ä¼šè‡ªåŠ¨åˆ›å»ºä¸€ä¸ªæ–°çš„OutputParamAbç±»,å¹¶å°†ç»“æœåŠ å…¥OutputParamAb.dataä¸­
    2.å…¥å‚è¦æ±‚InputParamReLow<T>,å¯é€šè¿‡input.getInputData()è·å–å…¥å‚å®ä½“ç±»,å¹¶æä¾›ä¸€ç³»åˆ—æ–¹æ³•
    3.è‡ªåŠ¨æ•è·Serviceä¸­çš„ä¸šåŠ¡å¼‚å¸¸å¹¶é€šè¿‡OutputParamAbåŠ å·¥è¿”å›ç»™å‰ç«¯
    4.åå‚ç›®å‰å®ç°äº†OutputParamRe
    5.
    Conttrolleréœ€è¦å®ç°åŠ å…¥ @RuleAnnotationApi æ³¨è§£
}
```

## Service(ä¸šåŠ¡å¼‚å¸¸å¤„ç†)

```java
        if(1!=0){
        throw new ExceptionError("å…³è”å…³ç³»æœªå¡«å†™");//è¿”å›ä¸šåŠ¡å¼‚å¸¸
        throw new ExceptionRe("A02");//message-*.xmlæ–‡ä»¶ä¸­çš„æ¶ˆæ¯ç code
        throw new ExceptionAb();//è‡ªå®šä¹‰å®ç°ExceptionAbç±»
        }

```

#é…ç½®è¯´æ˜

å¦‚æœéœ€è¦å¯ç”¨ç›¸å…³åŠŸèƒ½,æ‰“å¼€å¯¹åº”é…ç½®+å†™å…¥ç›¸å…³å®ç°ç±»(å¦‚æœæœ‰,æ¯”å¦‚dubboServiceä¸šåŠ¡ç±»,Controllerå®ç°ç±»)

```properties

# å¼€å…³
apollo.bootstrap.enabled=false
# å¼€å…³
apollo.bootstrap.eagerload.enabled=false
# å®¢æˆ·ç«¯
app.id=home-example-ewell
# åœ°å€åç¼€ä¸å…è®¸ä»¥/ç»“å°¾:http://106.54.227.205:8080
apollo.meta=
# dev,uat,pro å¯ä»¥é€šè¿‡ç³»ç»Ÿenvä¼ å…¥,æ³¨é‡Šåè‡ªåŠ¨é€šè¿‡ä¼ å…¥å˜é‡å†³å®š,è¿™ä¸ªå»ºè®®ä¸ä¼ ,ç³»ç»Ÿè‡ªåŠ¨è¯†åˆ«
apollo.apollo.env=dev
# å¼€å…³
dubbo.enabled=false
# dubboé»˜è®¤æ‰«æåŒ…:cn.bigcore.micro.example.dubboservice
dubbo.scan.basePackages=cn.bigcore.micro.example.dubboservice
# dubboè¿æ¥è¶…æ—¶æ—¶é—´
dubbo.reference.timeout=120000
# dubboæ³¨å†Œä¸­å¿ƒåœ°å€:zookeeper://zookeeper.com:2181
dubbo.registry.address=N/A
# dubboåè®®
dubbo.protocol.name=dubbo
# dubboæœ¬åœ°åœ°å€:127.0.0.1
dubbo.reference.host=
# dubboæœ¬åœ°æš´éœ²ç«¯å£:20880
dubbo.protocol.port=
# dubbo çº¿ç¨‹æ•°
dubbo.protocolconfig.threads=300
# #cached limited fixed all
dubbo.protocolconfig.threadpool=fixed
# å¼€å…³
db.enable=false
# æ•°æ®åº“è¿æ¥åœ°å€:jdbc:mysql://localhost:3306/home?useSSL=false&serverTimezone=GMT%2B8&useUnicode=true&characterEncoding=UTF-8
db.url=
# ç”¨æˆ·å:root
db.username=
# å¯†ç :password
db.password=
# é©±åŠ¨UrlClass;com.mysql.cj.jdbc.Driver
db.driverclassname=
# æ•°æ®åº“æ ¡éªŒsql:select 'x'
db.validationquery=

db.maxactive=30

db.initialsize=1

db.maxwait=60000

db.minidle=3

db.timebetweenevictionrunsmillis=60000

db.minevictableidletimemillis=300000

db.testwhileidle=true

db.testonborrow=false

db.testonreturn=false

db.poolpreparedstatements=true

db.removeabandoned=true

db.removeabandonedtimeout=60

db.numtestsperevictionrun=60

db.maxopenpreparedstatements=20

db.filters=stat,wall
# å¼€å…³
flywaydb.enable=false
# flyway jdbcè¿æ¥åœ°å€,å¦‚æœä¸ºç©ºå–æ•°æ®åº“è¿æ¥åœ°å€
flywaydb.url=
# flyway å¦‚æœä¸ºç©º,å–æ•°æ®åº“ç”¨æˆ·å
flywaydb.username=
# flyway å¦‚æœä¸ºç©º,å»æ•°æ®åº“å¯†ç 
flywaydb.password=
# flyway ç‰ˆæœ¬ç®¡ç†è¡¨
flywaydb.table=flyway_schema_history
# å¼€å…³
log.enable=true
# é»˜è®¤ä¸ºidkey debug
log.appid=home-example-ewell
# æ ¹æ—¥å¿—çº§åˆ« debug info  warn  error trance é»˜è®¤debug# ä»é«˜åˆ°åœ°ä½ OFF ã€ FATAL ã€ ERROR ã€ WARN ã€ INFO ã€ DEBUG ã€ TRACE ã€ ALL -->
log.rootlevel=info
# ç³»ç»Ÿæ—¥å¿—çº§åˆ« é»˜è®¤debug
log.syslevel=info
# ä¸šåŠ¡æ—¥å¿—çº§åˆ« é»˜è®¤debug
log.businlevel=info
# ä¸šåŠ¡æ—¥å¿—åŒ…è·¯å¾„,ç©ºçš„è¯é»˜è®¤ä¸ºç³»ç»Ÿæ‰«æåˆ°çš„åŒ…è·¯å¾„
log.businpackage=cn.bigcore.micro.example
# æ—¥å¿—å­˜å‚¨ä½ç½®
log.dir=target/log/home-example-ewell
# å¼€å…³
mybatis.enable=false
# æ‰«æmapperåœ°å€,é»˜è®¤ä¸ºå¯åŠ¨ç±»ä¸‹çš„ mapperæ–‡ä»¶å¤¹
mybatis.basepackage=cn.bigcore.micro.example.mapper
# æ‰«æmapperåœ°å€,é»˜è®¤ä¸ºå¯åŠ¨ç±»ä¸‹çš„ mapperæ–‡ä»¶å¤¹
mybatis.typealiasespackage=cn.bigcore.micro.example.mapper
# æ‰«æmapper.xml,é»˜è®¤ä¸ºèµ„æºæ–‡ä»¶å¤¹ä¸‹çš„ mapperæ–‡ä»¶å¤¹
mybatis.mapperlocations=classpath:**/mapper/**.xml
# å¼€å…³
mybatisplus.enable=false
# æ‰«æmapperåœ°å€,é»˜è®¤ä¸ºå¯åŠ¨ç±»ä¸‹çš„ mapperæ–‡ä»¶å¤¹
mybatisplus.basepackage=cn.bigcore.micro.example.mapper
# æ‰«æmapperåœ°å€,é»˜è®¤ä¸ºå¯åŠ¨ç±»ä¸‹çš„ mapperæ–‡ä»¶å¤¹
mybatisplus.typealiasespackage=cn.bigcore.micro.example.mapper
# æ‰«æmapper.xml,é»˜è®¤ä¸ºèµ„æºæ–‡ä»¶å¤¹ä¸‹çš„ mapperæ–‡ä»¶å¤¹
mybatisplus.mapperlocations=classpath:**/mapper/**.xml
# å¼€å…³
minio.enable=false
# api è¯·æ±‚åœ°å€ å¿…å¡«:http://localhost:9000
minio.endpoint=
# api è¯·æ±‚ç”¨æˆ·å:SDS*DSJDlerw9(were)
minio.accesskey=
# api è¯·æ±‚å¯†é’¥:SDS*DSJDlerdsfsdf
minio.secretKey=
# æ¡¶ å‘½åç©ºé—´,å¿…å¡«
minio.namespace_re=home-example-ewell
# æµ‹è¯•å¢åŠ æ•°æ®
minio.deom=demop
# å¼€å…³
redis.enable=false
# IPåœ°å€:192.168.3.251 ä½¿ç”¨æ–¹æ³•:BaseEv.SettingInformation.redisds
redis.host=
# ç«¯å£å·:6379
redis.port=
# å¯†ç :123456
redis.password=
# ä¸»å¹²:mymaster
redis.masterName=
# è¿æ¥è€—å°½æ—¶æ˜¯å¦é˜»å¡, falseæŠ¥å¼‚å¸¸,tureé˜»å¡ç›´åˆ°è¶…æ—¶, é»˜è®¤true
redis.BlockWhenExhausted=true
# è®¾ç½®çš„é€å‡ºç­–ç•¥ç±»å, é»˜è®¤DefaultEvictionPolicy(å½“è¿æ¥è¶…è¿‡æœ€å¤§ç©ºé—²æ—¶é—´,æˆ–è¿æ¥æ•°è¶…è¿‡æœ€å¤§ç©ºé—²è¿æ¥æ•°)
redis.evictionPolicyClassName=org.apache.commons.pool2.impl.DefaultEvictionPolicy
# æ˜¯å¦å¯ç”¨poolçš„jmxç®¡ç†åŠŸèƒ½, é»˜è®¤true
redis.jmxEnabled=true
# æ˜¯å¦å¯ç”¨åè¿›å…ˆå‡º, é»˜è®¤true
redis.lifo=true
# æœ€å¤§ç©ºé—²è¿æ¥æ•°, é»˜è®¤8ä¸ª
redis.maxIdle=8
# æœ€å°ç©ºé—²è¿æ¥æ•°, é»˜è®¤1
redis.minIdle=1
# æœ€å¤§è¿æ¥æ•°, é»˜è®¤8ä¸ª
redis.maxTotal=8
# è·å–è¿æ¥æ—¶çš„æœ€å¤§ç­‰å¾…æ¯«ç§’æ•°(å¦‚æœè®¾ç½®ä¸ºé˜»å¡æ—¶BlockWhenExhausted),å¦‚æœè¶…æ—¶å°±æŠ›å¼‚å¸¸, å°äºé›¶:é˜»å¡ä¸ç¡®å®šçš„æ—¶é—´,  é»˜è®¤-1#ç»è¿‡æ¡†æ¶æµ‹è¯•å½“å‰å€¼ä¸º -1 æ—¶ç³»ç»Ÿå¯åŠ¨ä¼šæŠ¥è½¬æ¢å¼‚å¸¸,å»ºè®®æ³¨é‡Šæˆ–è€…å€¼>-1
redis.maxWaitMillis=-1
# é€å‡ºè¿æ¥çš„æœ€å°ç©ºé—²æ—¶é—´ é»˜è®¤1800000æ¯«ç§’(30åˆ†é’Ÿ)
redis.minEvictableIdleTimeMillis=1800000
# æ¯æ¬¡é€å‡ºæ£€æŸ¥æ—¶ é€å‡ºçš„æœ€å¤§æ•°ç›® å¦‚æœä¸ºè´Ÿæ•°å°±æ˜¯ : 1/abs(n), é»˜è®¤3
redis.numTestsPerEvictionRun=3
# å¯¹è±¡ç©ºé—²å¤šä¹…åé€å‡º, å½“ç©ºé—²æ—¶é—´>è¯¥å€¼ ä¸” ç©ºé—²è¿æ¥>æœ€å¤§ç©ºé—²æ•° æ—¶ç›´æ¥é€å‡º,ä¸å†æ ¹æ®MinEvictableIdleTimeMillisåˆ¤æ–­  (é»˜è®¤é€å‡ºç­–ç•¥)
redis.SoftMinEvictableIdleTimeMillis=1800000
# åœ¨è·å–è¿æ¥çš„æ—¶å€™æ£€æŸ¥æœ‰æ•ˆæ€§, é»˜è®¤false
redis.testOnBorrow=true
# åœ¨ç©ºé—²æ—¶æ£€æŸ¥æœ‰æ•ˆæ€§, é»˜è®¤false
redis.testWhileIdle=true
# é€å‡ºæ‰«æçš„æ—¶é—´é—´éš”(æ¯«ç§’) å¦‚æœä¸ºè´Ÿæ•°,åˆ™ä¸è¿è¡Œé€å‡ºçº¿ç¨‹, é»˜è®¤-1#ç»è¿‡æ¡†æ¶æµ‹è¯•å½“å‰å€¼ä¸º -1 æ—¶ç³»ç»Ÿå¯åŠ¨ä¼šæŠ¥è½¬æ¢å¼‚å¸¸,å»ºè®®æ³¨é‡Šæˆ–è€…å€¼>-1
redis.timeBetweenEvictionRunsMillis=-1
# å¼€å…³
swagger.enable=true
# swagger é»˜è®¤æ‰«æ apiè·¯å¾„ä¸ºå¯åŠ¨ç±»æ‰€åœ¨ç›®å½•ä¸‹çš„ apiç›®å½•
swagger.basepackage=cn.bigcore.micro.example.api
# swaggerå‘½å,æš‚æ—¶å‘½åä¸ºSwaggerAPI
swagger.name=SwaggeAPI
# ç³»ç»Ÿå®¹å™¨restç«¯å£å·
system.servlet.port=8080
# è®¾ç½®ä¸Šä¼ æ–‡ä»¶å¤§å°
system.servlet.multipart.enable=true
# ä¸é™åˆ¶æ–‡ä»¶å¤§å°
system.servlet.multipart.max-file-size=-1
# ä¸é™åˆ¶è¯·æ±‚ä½“å¤§å°
system.servlet.multipart.max-request-size=-1
# ä¸´æ—¶IOç›®å½•
#system.servlet.multipart.location=C:\Users\wangxuhui\\home\home-example-ewell\/temp/001
# è¶…è¿‡1Mbï¼Œå°±IOåˆ°ä¸´æ—¶ç›®å½•
system.servlet.multipart.file-size-threshold=1
# é»˜è®¤å…¥å‚å¤„ç†å‡½æ•°
#system.inputparamab.class=outgoing.cn.bigcore.micro.InputParamRe
# ç¤ºä¾‹æ‰©å±•å±æ€§
extend.readme=ç¤ºä¾‹å€¼



```

# ğŸ§¬è´¡çŒ®ä»£ç çš„æ­¥éª¤

1. åœ¨Giteeæˆ–è€…Githubä¸Šforké¡¹ç›®åˆ°è‡ªå·±çš„repo
2. æŠŠforkè¿‡å»çš„é¡¹ç›®ä¹Ÿå°±æ˜¯ä½ çš„é¡¹ç›®cloneåˆ°ä½ çš„æœ¬åœ°
3. ä¿®æ”¹ä»£ç ï¼ˆè®°å¾—ä¸€å®šè¦ä¿®æ”¹v*-devåˆ†æ”¯ï¼‰
4. commitåpushåˆ°è‡ªå·±çš„åº“ï¼ˆv*-devåˆ†æ”¯ï¼‰
5. ç™»å½•Giteeæˆ–Githubåœ¨ä½ é¦–é¡µå¯ä»¥çœ‹åˆ°ä¸€ä¸ª pull request æŒ‰é’®ï¼Œç‚¹å‡»å®ƒï¼Œå¡«å†™ä¸€äº›è¯´æ˜ä¿¡æ¯ï¼Œç„¶åæäº¤å³å¯ã€‚
6. ç­‰å¾…ç»´æŠ¤è€…åˆå¹¶

# è¿‘æœŸè®¡åˆ’

# æŠ€æœ¯æ”¯æŒ

1. ä»£ç å¼€æº,æŠ€æœ¯æ— ä»·,å¦‚éœ€æä¾›æŠ€æœ¯æ”¯æŒå’Œè®²è§£è¯·é€šè¿‡å¦‚ä¸‹æ–¹å¼:
2. QQ:2233856992
3. email:2233856992@qq.com
4. ä»£ç ä½¿ç”¨äº†å„ç§å¼€æºç»„ä»¶,è½¯ä»¶ä½œä¸ºæ”¯æ’‘,å¦‚æœ‰ä¾µæƒè¯·è”ç³»
5. è¯·å‹¿å°†è½¯ä»¶åº”ç”¨äºæ³•å¾‹è¦æ±‚èŒƒå›´å¤–çš„åœºæ™¯
